#!/usr/bin/env ruby

require 'fileutils'

def new(opts)
  unless opts[:name]
    puts 'name is required'
    exit 0
  end

  Dir.mkdir(opts[:name])
  FileUtils.cp_r(File.join(__dir__, 'templates', '.'), opts[:name])
end

if __FILE__ == $0
  opts = {}

  OptionParser.new do |p|
    p.banner = "Usage: #{__FILE__} [OPTIONS]"
    p.on '-n NAME', '--name=NAME', 'Project name'
    p.parse! into: opts
  end

  cmd = ARGV.shift

  case cmd
  when 'new'
    new(opts)
  end
end
